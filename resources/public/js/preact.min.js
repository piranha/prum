'use strict';
function VNode(e,n,t){this.nodeName=e,this.attributes=n,this.children=t,this.key=n&&n.key}function h(e,n){var t,o,r,i,s=[];for(i=arguments.length;i-- >2;)stack.push(arguments[i]);n&&n.children&&(stack.length||stack.push(n.children),delete n.children);while(stack.length)if((o=stack.pop())instanceof Array)for(i=o.length;i--;)stack.push(o[i]);else null!=o&&o!==!1&&("number"!=typeof o&&o!==!0||(o+=""),r="string"==typeof o,r&&t?s[s.length-1]+=o:(s.push(o),t=r));var l=new VNode(e,n||void 0,s);return options.vnode&&options.vnode(l),l}function extend(e,n){if(n)for(var t in n)e[t]=n[t];return e}function clone(e){return extend({},e)}function delve(e,n){for(var t=n.split("."),o=0;o<t.length&&e;o++)e=e[t[o]];return e}function isFunction(e){return"function"==typeof e}function isString(e){return"string"==typeof e}function hashToClassName(e){var n="";for(var t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function cloneElement(e,n){return h(e.nodeName,extend(clone(e.attributes),n),arguments.length>2?[].slice.call(arguments,2):e.children)}function createLinkedState(e,n,t){var o=n.split(".");return function(n){for(var r=n&&n.target||this,i={},s=i,l=isString(t)?delve(n,t):r.nodeName?r.type.match(/^che|rad/)?r.checked:r.value:n,a=0;a<o.length-1;a++)s=s[o[a]]||(s[o[a]]=!a&&e.state[o[a]]||{});s[o[a]]=l,e.setState(i)}}function enqueueRender(e){!e._dirty&&(e._dirty=!0)&&1==items.push(e)&&(options.debounceRendering||defer)(rerender)}function rerender(){var e,n=items;items=[];while(e=n.pop())e._dirty&&renderComponent(e)}function isFunctionalComponent(e){var n=e&&e.nodeName;return n&&isFunction(n)&&!(n.prototype&&n.prototype.render)}function buildFunctionalComponent(e,n){return e.nodeName(getNodeProps(e),n||EMPTY)}function isSameNodeType(e,n){return isString(n)?e instanceof Text:isString(n.nodeName)?isNamedNode(e,n.nodeName):isFunction(n.nodeName)?e._componentConstructor===n.nodeName||isFunctionalComponent(n):void 0}function isNamedNode(e,n){return e.normalizedNodeName===n||toLowerCase(e.nodeName)===toLowerCase(n)}function getNodeProps(e){var n=clone(e.attributes);n.children=e.children;var t=e.nodeName.defaultProps;if(t)for(var o in t)void 0===n[o]&&(n[o]=t[o]);return n}function removeNode(e){var n=e.parentNode;n&&n.removeChild(e)}function setAccessor(e,n,t,o,r){if("className"===n&&(n="class"),"class"===n&&o&&"object"==typeof o&&(o=hashToClassName(o)),"key"===n);else if("class"!==n||r)if("style"===n){if((!o||isString(o)||isString(t))&&(e.style.cssText=o||""),o&&"object"==typeof o){if(!isString(t))for(var i in t)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"!=typeof o[i]||NON_DIMENSION_PROPS[i]?o[i]:o[i]+"px"}}else if("dangerouslySetInnerHTML"===n)o&&(e.innerHTML=o.__html);else if("o"==n[0]&&"n"==n[1]){var s=e._listeners||(e._listeners={});n=toLowerCase(n.substring(2)),o?s[n]||e.addEventListener(n,eventProxy,!!NON_BUBBLING_EVENTS[n]):s[n]&&e.removeEventListener(n,eventProxy,!!NON_BUBBLING_EVENTS[n]),s[n]=o}else if("list"!==n&&"type"!==n&&!r&&n in e)setProperty(e,n,null==o?"":o),null!=o&&o!==!1||e.removeAttribute(n);else{var l=r&&n.match(/^xlink\:?(.+)/);null==o||o===!1?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",toLowerCase(l[1])):e.removeAttribute(n):"object"==typeof o||isFunction(o)||(l?e.setAttributeNS("http://www.w3.org/1999/xlink",toLowerCase(l[1]),o):e.setAttribute(n,o))}else e.className=o||""}function setProperty(e,n,t){try{e[n]=t}catch(e){}}function eventProxy(e){return this._listeners[e.type](options.event&&options.event(e)||e)}function collectNode(e){if(removeNode(e),e instanceof Element){e._component=e._componentConstructor=null;var n=e.normalizedNodeName||toLowerCase(e.nodeName);(nodes[n]||(nodes[n]=[])).push(e)}}function createNode(e,n){var t=toLowerCase(e),o=nodes[t]&&nodes[t].pop()||(n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return o.normalizedNodeName=t,o}function flushMounts(){var e;while(e=mounts.pop())options.afterMount&&options.afterMount(e),e.componentDidMount&&e.componentDidMount()}function diff(e,n,t,o,r,i){diffLevel++||(isSvgMode=r instanceof SVGElement);var s=idiff(e,n,t,o);return r&&s.parentNode!==r&&r.appendChild(s),--diffLevel||i||flushMounts(),s}function idiff(e,n,t,o){var r=n&&n.attributes;while(isFunctionalComponent(n))n=buildFunctionalComponent(n,t);if(null==n&&(n=""),isString(n)){if(e){if(e instanceof Text&&e.parentNode)return e.nodeValue!=n&&(e.nodeValue=n),e;recollectNodeTree(e)}return document.createTextNode(n)}if(isFunction(n.nodeName))return buildComponentFromVNode(e,n,t,o);var i=e,s=n.nodeName,l=isSvgMode,a=n.children;if(isString(s)||(s+=""),isSvgMode="svg"===s||"foreignObject"!==s&&isSvgMode,e){if(!isNamedNode(e,s)){i=createNode(s,isSvgMode);while(e.firstChild)i.appendChild(e.firstChild);recollectNodeTree(e)}}else i=createNode(s,isSvgMode);a&&1===a.length&&"string"==typeof a[0]&&1===i.childNodes.length&&i.firstChild instanceof Text?i.firstChild.nodeValue!=a[0]&&(i.firstChild.nodeValue=a[0]):(a&&a.length||i.firstChild)&&innerDiffNode(i,a,t,o);var c=i[ATTR_KEY];if(!c){i[ATTR_KEY]=c={};for(var d=i.attributes,p=d.length;p--;)c[d[p].name]=d[p].value}return diffAttributes(i,n.attributes,c),r&&"function"==typeof r.ref&&(c.ref=r.ref)(i),isSvgMode=l,i}function innerDiffNode(e,n,t,o){var r,i,s,l,a=e.childNodes,c=[],d={},p=0,u=0,f=a.length,m=0,h=n&&n.length;if(f)for(var v=0;v<f;v++){var N=a[v],C=h?(i=N._component)?i.__key:(i=N[ATTR_KEY])?i.key:null:null;C||0===C?(p++,d[C]=N):c[m++]=N}if(h)for(var v=0;v<h;v++){s=n[v],l=null;var C=s.key;if(null!=C)p&&C in d&&(l=d[C],d[C]=void 0,p--);else if(!l&&u<m){for(r=u;r<m;r++)if(i=c[r],i&&isSameNodeType(i,s)){l=i,c[r]=void 0,r===m-1&&m--,r===u&&u++;break}!l&&u<m&&isFunction(s.nodeName)&&o&&(l=c[u],c[u++]=void 0)}l=idiff(l,s,t,o),l&&l!==e&&l!==a[v]&&e.insertBefore(l,a[v]||null)}if(p)for(var v in d)d[v]&&recollectNodeTree(d[v]);u<m&&removeOrphanedChildren(c)}function removeOrphanedChildren(e,n){for(var t=e.length;t--;)e[t]&&recollectNodeTree(e[t],n)}function recollectNodeTree(e,n){var t=e._component;t?unmountComponent(t,!n):(e[ATTR_KEY]&&e[ATTR_KEY].ref&&e[ATTR_KEY].ref(null),n||collectNode(e),e.childNodes&&e.childNodes.length&&removeOrphanedChildren(e.childNodes,n))}function diffAttributes(e,n,t){for(var o in t)n&&o in n||null==t[o]||setAccessor(e,o,t[o],t[o]=void 0,isSvgMode);if(n)for(var r in n)"children"===r||"innerHTML"===r||r in t&&n[r]===("value"===r||"checked"===r?e[r]:t[r])||setAccessor(e,r,t[r],t[r]=n[r],isSvgMode)}function collectComponent(e){var n=e.constructor.name,t=components[n];t?t.push(e):components[n]=[e]}function createComponent(e,n,t){var o=new e(n,t),r=components[e.name];if(Component.call(o,n,t),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.nextBase=r[i].nextBase,r.splice(i,1);break}return o}function setComponentProps(e,n,t,o,r){e._disable||(e._disable=!0,(e.__ref=n.ref)&&delete n.ref,(e.__key=n.key)&&delete n.key,!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(n,o),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=n,e._disable=!1,0!==t&&(1!==t&&options.syncComponentUpdates===!1&&e.base?enqueueRender(e):renderComponent(e,1,r)),e.__ref&&e.__ref(e))}function renderComponent(e,n,t,o){if(!e._disable){var r,i,s,l,a=e.props,c=e.state,d=e.context,p=e.prevProps||a,u=e.prevState||c,f=e.prevContext||d,m=e.base,h=e.nextBase,v=m||h,N=e._component;if(m&&(e.props=p,e.state=u,e.context=f,2!==n&&e.shouldComponentUpdate&&e.shouldComponentUpdate(a,c,d)===!1?r=!0:e.componentWillUpdate&&e.componentWillUpdate(a,c,d),e.props=a,e.state=c,e.context=d),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!r){e.render&&(i=e.render(a,c,d)),e.getChildContext&&(d=extend(clone(d),e.getChildContext()));while(isFunctionalComponent(i))i=buildFunctionalComponent(i,d);var C,_,g=i&&i.nodeName;if(isFunction(g)){s=N;var x=getNodeProps(i);s&&s.constructor===g?setComponentProps(s,x,1,d):(C=s,s=createComponent(g,x,d),s.nextBase=s.nextBase||h,s._parentComponent=e,e._component=s,setComponentProps(s,x,0,d),renderComponent(s,1,t,!0)),_=s.base}else l=v,C=N,C&&(l=e._component=null),(v||1===n)&&(l&&(l._component=null),_=diff(l,i,d,t||!m,v&&v.parentNode,!0));if(v&&_!==v&&s!==N){var b=v.parentNode;b&&_!==b&&(b.replaceChild(_,v),C||(v._component=null,recollectNodeTree(v)))}if(C&&unmountComponent(C,_!==v),e.base=_,_&&!o){var y=e,S=e;while(S=S._parentComponent)(y=S).base=_;_._component=y,_._componentConstructor=y.constructor}}!m||t?mounts.unshift(e):r||(e.componentDidUpdate&&e.componentDidUpdate(p,u,f),options.afterUpdate&&options.afterUpdate(e));var T,w=e._renderCallbacks;if(w)while(T=w.pop())T.call(e);diffLevel||o||flushMounts()}}function buildComponentFromVNode(e,n,t,o){var r=e&&e._component,i=e,s=r&&e._componentConstructor===n.nodeName,l=s,a=getNodeProps(n);while(r&&!l&&(r=r._parentComponent))l=r.constructor===n.nodeName;return r&&l&&(!o||r._component)?(setComponentProps(r,a,3,t,o),e=r.base):(r&&!s&&(unmountComponent(r,!0),e=i=null),r=createComponent(n.nodeName,a,t),e&&!r.nextBase&&(r.nextBase=e,i=null),setComponentProps(r,a,1,t,o),e=r.base,i&&e!==i&&(i._component=null,recollectNodeTree(i))),e}function unmountComponent(e,n){options.beforeUnmount&&options.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var o=e._component;o?unmountComponent(o,n):t&&(t[ATTR_KEY]&&t[ATTR_KEY].ref&&t[ATTR_KEY].ref(null),e.nextBase=t,n&&(removeNode(t),collectComponent(e)),removeOrphanedChildren(t.childNodes,!n)),e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function Component(e,n){this._dirty=!0,this.context=n,this.props=e,this.state||(this.state={})}function render(e,n,t){return diff(t,e,{},!1,n)}var options={},stack=[],lcCache={},toLowerCase=function(e){return lcCache[e]||(lcCache[e]=e.toLowerCase())},resolved="undefined"!=typeof Promise&&Promise.resolve(),defer=resolved?function(e){resolved.then(e)}:setTimeout,EMPTY={},ATTR_KEY="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",NON_DIMENSION_PROPS={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},NON_BUBBLING_EVENTS={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},items=[],nodes={},mounts=[],diffLevel=0,isSvgMode=!1,components={};extend(Component.prototype,{linkState:function(e,n){var t=this._linkedStates||(this._linkedStates={});return t[e+n]||(t[e+n]=createLinkedState(this,e,n))},setState:function(e,n){var t=this.state;this.prevState||(this.prevState=clone(t)),extend(t,isFunction(e)?e(t,this.props):e),n&&(this._renderCallbacks=this._renderCallbacks||[]).push(n),enqueueRender(this)},forceUpdate:function(){renderComponent(this,2)},render:function(){}});
